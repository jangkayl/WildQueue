<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.effect.*?>
<?import javafx.geometry.*?>

<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<AnchorPane prefHeight="720.0" prefWidth="1280.0" style="-fx-background-color: #f9f5f0;" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.wildqueue.controllers.TellerHomepageController">

    <!-- Header Section - Maroon background -->
    <HBox alignment="CENTER" spacing="20" style="-fx-background-color: #550000; -fx-padding: 15;" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">
        <ImageView fitHeight="40" fitWidth="40" preserveRatio="true">
            <image>
                <Image url="https://d1yjjnpx0p53s8.cloudfront.net/styles/logo-thumbnail/s3/0025/3670/brand.gif?itok=a6YvanRr" />
            </image>
        </ImageView>
        <VBox alignment="CENTER_LEFT" spacing="2">
            <Text style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-fill: #FFD700;" text="CEBU INSTITUTE OF TECHNOLOGY" />
            <Text style="-fx-font-size: 14px; -fx-fill: #FFD700;" text="Queue Management System - Teller Panel" />
        </VBox>
        <Region HBox.hgrow="ALWAYS" />
        <Label fx:id="tellerNameLabel" style="-fx-font-size: 16px; -fx-text-fill: white; -fx-font-weight: bold;" text="Teller: John Doe" />
        <Button fx:id="logoutButton" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-border-color: #FFD700; -fx-border-radius: 5; -fx-cursor: hand;" text="Logout" />
    </HBox>

    <!-- Main Content Layout -->
    <HBox alignment="TOP_LEFT" spacing="0" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="80">

        <!-- Sidebar Control Panel -->
        <VBox alignment="TOP_CENTER" style="-fx-background-color: #550000; -fx-padding: 20; -fx-spacing: 20; -fx-min-width: 250; -fx-max-width: 250;">
            <!-- Profile Section -->
            <VBox alignment="CENTER" spacing="10" style="-fx-padding: 0 0 20 0; -fx-border-color: #FFD700; -fx-border-width: 0 0 1 0;">
                <Circle radius="40" fill="#FFD700" />
                <Text fx:id="tellerNameSidebar" style="-fx-font-size: 16px; -fx-fill: white; -fx-font-weight: bold;" text="John Doe" />
                <Text fx:id="windowNumberText" style="-fx-font-size: 14px; -fx-fill: #FFD700;" text="Window 3" />
            </VBox>

            <!-- Main Controls -->
            <VBox alignment="TOP_CENTER" spacing="15">
                <Button fx:id="callButton" style="-fx-background-color: #FFD700; -fx-text-fill: #800000; -fx-font-weight: bold; -fx-font-size: 16px; -fx-background-radius: 5; -fx-padding: 10 15; -fx-cursor: hand; -fx-min-width: 200;" text="CALL NEXT" />
                <Button fx:id="completeButton" style="-fx-background-color: #5cb85c; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 16px; -fx-background-radius: 5; -fx-padding: 10 15; -fx-cursor: hand; -fx-min-width: 200;" text="COMPLETE CURRENT" />
                <Button fx:id="transferButton" style="-fx-background-color: #5bc0de; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 16px; -fx-background-radius: 5; -fx-padding: 10 15; -fx-cursor: hand; -fx-min-width: 200;" text="TRANSFER" />
                <Button fx:id="windowToggleButton" style="-fx-background-color: #d9534f; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 16px; -fx-background-radius: 5; -fx-padding: 10 15; -fx-cursor: hand; -fx-min-width: 200;" text="OPEN WINDOW" />

                <Separator style="-fx-background-color: #FFD700; -fx-padding: 10 0;" />

                <Button fx:id="priorityButton" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-color: #FFD700; -fx-border-radius: 5; -fx-padding: 8 15; -fx-cursor: hand; -fx-min-width: 200;" text="ADD PRIORITY" />
                <Button fx:id="recallButton" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-color: #FFD700; -fx-border-radius: 5; -fx-padding: 8 15; -fx-cursor: hand; -fx-min-width: 200;" text="RECALL LAST" />
                <Button fx:id="notifyButton" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-color: #FFD700; -fx-border-radius: 5; -fx-padding: 8 15; -fx-cursor: hand; -fx-min-width: 200;" text="SEND NOTIFICATION" />
                <Button fx:id="viewHistoryButton" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-color: #FFD700; -fx-border-radius: 5; -fx-padding: 8 15; -fx-cursor: hand; -fx-min-width: 200;" text="VIEW HISTORY" />
            </VBox>
        </VBox>

        <!-- Main Dashboard Content -->
        <VBox alignment="TOP_CENTER" spacing="30" style="-fx-padding: 30; -fx-background-color: #f9f5f0;" HBox.hgrow="ALWAYS">

            <!-- Status Cards Row -->
            <HBox alignment="CENTER" spacing="30">
                <!-- Now Serving Card -->
                <VBox alignment="CENTER" spacing="15" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 25; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 0); -fx-min-width: 300;">
                    <Text style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-fill: #800000;" text="NOW SERVING" />
                    <Text fx:id="currentNumberText" style="-fx-font-size: 64px; -fx-font-weight: bold; -fx-fill: #FFD700;" text="---" />
                    <Text fx:id="currentStudentText" style="-fx-font-size: 16px; -fx-fill: #777;" text="No student currently" />
                </VBox>

                <!-- Queue Overview Card -->
                <VBox alignment="CENTER" spacing="15" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 25; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 0); -fx-min-width: 300;">
                    <Text style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-fill: #800000;" text="QUEUE OVERVIEW" />
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Circle fill="#800000" radius="8" />
                        <Text fx:id="waitingCountText" style="-fx-font-size: 16px; -fx-fill: #555;" text="Waiting: 0" />
                    </HBox>
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Circle fill="#FFD700" radius="8" />
                        <Text fx:id="priorityCountText" style="-fx-font-size: 16px; -fx-fill: #555;" text="Priority: 0" />
                    </HBox>
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Circle fill="#5bc0de" radius="8" />
                        <Text fx:id="estimatedWaitText" style="-fx-font-size: 16px; -fx-fill: #555;" text="Est. wait: 0m" />
                    </HBox>
                </VBox>
            </HBox>

            <!-- Teller Stats Card -->
            <VBox alignment="CENTER" spacing="15" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 25; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 0); -fx-min-width: 630;">
                <Text style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-fill: #800000;" text="YOUR PERFORMANCE" />
                <HBox alignment="CENTER" spacing="30">
                    <VBox alignment="CENTER" spacing="5">
                        <Text style="-fx-font-size: 14px; -fx-fill: #555;" text="Served Today" />
                        <Text fx:id="servedTodayText" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-fill: #800000;" text="0" />
                    </VBox>
                    <VBox alignment="CENTER" spacing="5">
                        <Text style="-fx-font-size: 14px; -fx-fill: #555;" text="Avg. Time" />
                        <Text fx:id="avgTimeText" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-fill: #FFD700;" text="0m" />
                    </VBox>
                    <VBox alignment="CENTER" spacing="5">
                        <Text style="-fx-font-size: 14px; -fx-fill: #555;" text="Window Status" />
                        <Text fx:id="windowStatusText" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-fill: #5cb85c;" text="Closed" />
                    </VBox>
                </HBox>
            </VBox>

            <!-- Recent Activity Section -->
            <VBox alignment="TOP_LEFT" spacing="15" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 25; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 0); -fx-min-width: 630;">
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <Text style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-fill: #800000;" text="RECENT ACTIVITY" />
                    <Button fx:id="refreshActivityButton" style="-fx-background-color: transparent; -fx-text-fill: #800000; -fx-font-size: 14px; -fx-cursor: hand;" text="Refresh" />
                </HBox>

                <VBox fx:id="activityContainer" spacing="10" style="-fx-padding: 10 0 0 0;">
                    <!-- Sample activity items -->
                    <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-padding: 8; -fx-background-color: #fff9f0; -fx-background-radius: 5;">
                        <Circle fill="#FFD700" radius="5" />
                        <Text style="-fx-font-size: 14px; -fx-fill: #555;" text="Called #142 - Lisa (10:15 AM)" />
                    </HBox>
                    <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-padding: 8; -fx-background-color: #fff9f0; -fx-background-radius: 5;">
                        <Circle fill="#5cb85c" radius="5" />
                        <Text style="-fx-font-size: 14px; -fx-fill: #555;" text="Completed #141 - Jennie (10:10 AM)" />
                    </HBox>
                    <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-padding: 8; -fx-background-color: #fff9f0; -fx-background-radius: 5;">
                        <Circle fill="#5bc0de" radius="5" />
                        <Text style="-fx-font-size: 14px; -fx-fill: #555;" text="Transferred #140 - Rose (10:05 AM)" />
                    </HBox>
                </VBox>
            </VBox>
        </VBox>
    </HBox>
</AnchorPane>